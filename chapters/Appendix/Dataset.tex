\chapter{Dataset}
\chaptermark{Dataset}
\label{app:dataset}
\graphicspath{{./chapters/Appendix/figs/}}

\section{eBDtheque dataset}

\modif{TODO: show all dataset thumbnails and file names to understand the evaluation detail bar graphs + give classify into categories (heritage, manga, webcomic, French/English/Japanese)}

% Through out this thesis work we have used several datasets, sometime they consist of floorplans with different variation, sometime isolated graphical objects or historical handwritten documents. Some of the datasets are generated by us to perform some specific experimentations. In this chapter we give a description on all of them. And also when they are created by us we explain a brief methodology, motivation for the creation. The rest of this chapter is divided into nine sections, each of which is dedicated for each of the datasets.
% \section{SESYD (floorplans)}
% \label{sec:datasets:sesyd}
% This dataset is a collection of synthetically generated floorplans and isolated graphic symbols~\cite{Delalandre2008}\footnote{\url{http://mathieu.delalandre.free.fr/projects/sesyd}}. It contains 16 isolated symbols which can be seen in Figure~\ref{fig:datasets:symbs-sesyds}. Apart from that it has 10 different subsets of floorplans, each of which contains 100 floorplan images. All the floorplans in a subset are created upon a same floorplan template by putting different isolated symbols in different feasible places with random orientations and scales. From Figure~\ref{fig:datasets:fps16-01} to Figure~\ref{fig:datasets:fps16-04}, we have shown some example of floorplan images from this dataset. This dataset also contains ground truths, where it indicates the position of the bounding boxes of each of the isolated symbols in the corresponding floorplans.

% \begin{figure}[!h]
% \begin{center}
% \subfloat[]{\includegraphics[width=0.08\textwidth]{armchair}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.08\textwidth]{bed}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.08\textwidth]{door1}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.12\textwidth]{door2}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.08\textwidth]{sink1}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.16\textwidth]{sink2}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.1\textwidth]{sink3}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.1\textwidth]{sink4}}\\
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.08\textwidth]{sofa1}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.16\textwidth]{sofa2}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.08\textwidth]{table1}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.12\textwidth]{table2}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.1\textwidth]{table3}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.1\textwidth]{tub}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.1\textwidth]{window1}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.1\textwidth]{window2}}
% \end{center}
% \caption{Example of different isolated symbols: (a) \emph{armchair}, (b) \emph{bed}, (c) \emph{door1}, (d) \emph{door2}, (e) \emph{sink1}, (f) \emph{sink2}, (g) \emph{sink3}, (h) \emph{sink4}, (i) \emph{sofa1}, (j) \emph{sofa2}, (k) \emph{table1}, (l) \emph{table2}, (m) \emph{table3}, (n) \emph{tub}, (o) \emph{window1}, (p) \emph{window2}.}
% \label{fig:datasets:symbs-sesyds}
% \end{figure}

% \begin{figure}[h!]
% \begin{center}
% \subfloat{\includegraphics[width=0.58\textwidth]{01_00}}
% \hspace{0.5mm}
% \subfloat{\includegraphics[width=0.19\textwidth]{02_00}}
% \hspace{0.5mm}
% \subfloat{\includegraphics[width=0.19\textwidth]{03_00}}
% \end{center}
% \caption{Example of floorplans from SESYD (a) floorplans16-01 (b) floorplans16-02 and (c) floorplans16-03 subset.}
% \label{fig:datasets:fps16-01}
% \end{figure}

% \begin{figure}[h!]
% \begin{center}
% \subfloat{\includegraphics[width=0.32\textwidth]{04_00}}
% \hspace{0.5mm}
% \subfloat{\includegraphics[width=0.32\textwidth]{05_00}}
% \hspace{0.5mm}
% \subfloat{\includegraphics[width=0.32\textwidth]{06_00}}
% \caption{Example of floorplans from SESYD (a) floorplans16-04 (b) floorplans16-05 and (c) floorplans16-06 subset.}
% \end{center}
% \end{figure}

% \begin{figure}[h!]
% \begin{center}
% \subfloat{\includegraphics[width=0.49\textwidth]{07_00}}
% \hspace{0.5mm}
% \subfloat{\includegraphics[width=0.30\textwidth]{08_00}}
% \caption{Example of floorplans from SESYD (a) floorplans16-07 (b) floorplans16-08 subset.}
% \end{center}
% \end{figure}

% \begin{figure}[h!]
% \begin{center}
% \subfloat{\includegraphics[width=0.49\textwidth]{09_00}}
% \hspace{0.5mm}
% \subfloat{\includegraphics[width=0.49\textwidth]{10_00}}
% \end{center}
% \caption{Example of floorplans from SESYD (a) floorplans16-09 (b) floorplans16-10 subset.}
% \label{fig:datasets:fps16-04}
% \end{figure}

% \section{FPLAN-POLY}
% \label{sec:datasets:fplan}
% This dataset is a collection of real floorplans and isolated symbols~\cite{Rusinol2009}\footnote{\url{http://www.cvc.uab.es/~marcal/FPLAN-POLY}}. It contains 42 floorplan images which are basically parts of bigger real floorplans. Being the parts of real floorplans, the images contain distortions, text-graphic interference, etc. This dataset basically contains the vectorized images, where all the images of this database have been converted to line drawings by using a raster-to-vector algorithm implemented in the QGar\footnote{\url{http://www.qgar.org}} library. This dataset provides 38 isolated symbols for querying purpose, which are basically created by cropping different graphical symbols from the floorplans. Some of them are shown in the Figure~\ref{fig:datasets:symbs-fplan}. Ground truths are also available which relate query symbol with their location in the respective floorplans.

% \begin{figure}[!h]
% \begin{center}
% \subfloat[]{\includegraphics[width=0.15\textwidth]{Symbol01}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.15\textwidth]{Symbol02}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.15\textwidth]{Symbol03}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.15\textwidth]{Symbol04}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.15\textwidth]{Symbol05}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.15\textwidth]{Symbol06}}\\
% \subfloat[]{\includegraphics[width=0.15\textwidth]{Symbol07}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.15\textwidth]{Symbol08}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.15\textwidth]{Symbol09}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.15\textwidth]{Symbol10}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.15\textwidth]{Symbol11}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.15\textwidth]{Symbol12}}
% \end{center}
% \caption{Example of different query symbols from the FPLAN-POLY dataset.}
% \label{fig:datasets:symbs-fplan}
% \end{figure}

% \begin{figure}[h!]
% \begin{center}
% \subfloat{\includegraphics[width=0.45\textwidth]{p01c05}}
% \hspace{1mm}
% \subfloat{\includegraphics[width=0.45\textwidth]{p01c06}}
% \end{center}
% \caption{Example of floorplans from the FPLAN-POLY dataset.}
% \label{fig:datasets:fps-fplan}
% \end{figure}

% \section{SESYD-DN}
% \label{sec:datasets:sesyd-dn}
% This dataset has been generated by us on the original SESYD (floorplans) dataset. It has been done by randomly drawing white horizontal lines of 2-3 pixels width. This generates random discontinuity of black pixels. The main motivation of generating this dataset was to show the advantage of the proposed NCRAG representation over the traditional RAG representation (see \ch{chap:ncrag}). Two sample images from this dataset are shown in Figure~\ref{fig:datasets:sesyd-dn}. Since the introduction of this kind of noise does not hamper the position of pixels we use the original ground truth provided in the SESYD dataset for the correspondences of isolated symbols to the target documents. The noise is only generated on the floorplans and not on the isolated symbols. This is to test the stability of the representation.
% % The set of images is available online at \url{} and a Matlab code to generate this kind of noisy images is available at \url{}.
% \begin{figure}[h!]
% \begin{center}
% \subfloat{\includegraphics[width=0.49\textwidth]{01_00-DN}}
% \hspace{0.5mm}
% \subfloat{\includegraphics[width=0.49\textwidth]{01_01-DN}}
% \end{center}
% \caption{Example of floorplans from the SESYD-DN dataset.}
% \label{fig:datasets:sesyd-dn}
% \end{figure}

% \section{SESYD-GN}
% \label{sec:datasets:sesyd-gn}
% This dataset has also been generated on the SESYD (floorplans) dataset. For this we used the Gaussian noise at different levels by varying the mean ($m$) and variance ($\sigma$). Practically, the increment of variance introduced more pepper noise (black) into the images, whereas the increment of the mean introduced more and more white noise, which will detach the object pixel connection. This kind of noise nearly simulates documents suffered due to scanning or some other low level image processing. Example of images can be seen in Figure~\ref{fig:datasets:sesyd-gn}. Here also this noise model is only applied only on the floorplans. Here also we consider the original ground truths from the dataset for the correspondence.

% \begin{figure}[h!]
% \begin{center}
% \subfloat[$\sigma=0.10$]{\includegraphics[width=0.24\textwidth]{30_10}}
% \hspace{0.5mm}
% \subfloat[$\sigma=0.40$]{\includegraphics[width=0.24\textwidth]{30_40}}
% \hspace{0.5mm}
% \subfloat[$\sigma=0.70$]{\includegraphics[width=0.24\textwidth]{30_70}}
% \hspace{0.5mm}
% \subfloat[$\sigma=1.00$]{\includegraphics[width=0.24\textwidth]{30_100}}
% \end{center}
% \caption{Example of floorplans from the SESYD-GN dataset with $m=0.30$.}
% \label{fig:datasets:sesyd-gn}
% \end{figure}

% \section{SESYD-VN}
% \label{sec:datasets:sesyd-vn}
% As the previous two, this dataset has also been created by us and it has been done on the SESYD (floorplans) dataset. Here we introduced vectorial noise and it has been done by randomly shifting the primitive points (critical points detected by the vectorization process) within a circle of radius $r$. We vary $r$ to get different level of vectorial distortions. This kind of noise simulate the documents containing handwritten sketch. Figure~\ref{fig:datasets:sesyd-vn} shows some example of images from this dataset.
% \begin{figure}[h!]
% \begin{center}
% \subfloat[$r=5$]{\includegraphics[width=0.32\textwidth]{VN_05}}
% \hspace{0.5mm}
% \subfloat[$r=10$]{\includegraphics[width=0.32\textwidth]{VN_10}}
% \hspace{0.5mm}
% \subfloat[$r=15$]{\includegraphics[width=0.32\textwidth]{VN_15}}
% \end{center}
% \caption{Example of floorplans from the SESYD-VN dataset.}
% \label{fig:datasets:sesyd-vn}
% \end{figure}

% SESYD-DN, SESYD-GN and SESYD-VN are the three datasets that have been generated by us during this thesis work for various reasons. The Matlab codes and a subset of all these three datasets are available in the link: \url{http://www.cvc.uab.es/~adutta/datasets}.

% \section{GREC 2005 dataset}
% \label{sec:datasets:grec}
% This dataset is a collection of degraded isolated symbols and created with the motivation for conducting a symbol recognition contest in the IAPR Workshop on Graphics Recognition in the year 2005~\cite{Dosch2006}\footnote{\url{http://symbcontestgrec05.loria.fr/finaltest.php}}. The dataset comes with upto 150 different model symbols with six degradation models (see \fig{fig:datasets:grec}). The tests are available in four different configurations from rotation and scaling point of view: (1) not rotated and not scaled, (1) not rotated but scaled (3) rotated but not scaled and (4) rotated and scaled. The ground truths containing the class information of each of the isolated symbols are also available with this dataset.
% \begin{figure}[h!]
% \begin{center}
% \subfloat[degradation model = 1]{\includegraphics[width=0.15\textwidth]{image1_mod1}}
% \hspace{0.5mm}
% \subfloat[degradation model = 2]{\includegraphics[width=0.15\textwidth]{image1_mod2}}
% \hspace{0.5mm}
% \subfloat[degradation model = 3]{\includegraphics[width=0.15\textwidth]{image1_mod3}}
% \hspace{0.5mm}
% \subfloat[degradation model = 4]{\includegraphics[width=0.15\textwidth]{image1_mod4}}
% \hspace{0.5mm}
% \subfloat[degradation model = 5]{\includegraphics[width=0.15\textwidth]{image1_mod5}}
% \hspace{0.5mm}
% \subfloat[degradation model = 6]{\includegraphics[width=0.15\textwidth]{image1_mod6}}
% \end{center}
% \caption{Example of isolated images from the GREC-2005 dataset.}
% \label{fig:datasets:grec}
% \end{figure}

% \section{ILPIso dataset}
% \label{sec:datasets:ilpiso}
% This dataset is composed of synthetic and real sets of graphs and is published by Le Bodic~\etal~\cite{LeBodic2012}\footnote{\url{litis-ilpiso.univ-rouen.fr/ILPIso}}. There are four synthetic datasets, all of which are node and edge attributed. They contain set of pattern graphs, target graphs and ground truths that relate the pattern graphs with the target graphs. The pairs of pattern graphs and target graphs are fixed, this fact facilitates the creation of ground truth. There are three parameters regulating the creation of pattern and target graphs: edge probability (ep), number of vertices in pattern graph (pvn) and number of vertices in target graph (tvn). For a particular combination of ep, pvn and tvn there are five instances of pattern and target graphs. Two of the four sets contain simple graphs that may contain isolated nodes \ie nodes that do not have any neighbour. One of these two contains pairs of pattern, target graphs containing exact mapping between the corresponding vertices/edges \ie there are perfect equality of labels. The other one contains pairs of pattern, target graphs where the mappings between the nodes/edges are disturbed by Gaussian noise ($m=0$, $\sigma=5$). The other two datasets of the synthetic category have the same characteristic except there is no isolated nodes \ie all the nodes at least have a neighbour.

% The real dataset is the RAG representation of a selected subset of (SESYD) floorplans and isolated symbols (\sect{sec:datasets:sesyd}). Specifically, it contains 16 pattern graphs each of which corresponds to a isolated symbol and 200 target graphs each of which corresponds to a floorplan image. 200 floorplans are selected by taking the first 20 floorplans from each of the subsets in SESYD (floorplans). The ground truth files are also available which relate the pattern graphs with the target graphs with region to region correspondence.

% \begin{figure}[h!]
% \begin{center}
% \subfloat[]{\includegraphics[width=0.24\textwidth]{BCN_CAT_01}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.24\textwidth]{BCN_CAT_02}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.24\textwidth]{BCN_CAT_03}}
% \hspace{0.5mm}
% \subfloat[]{\includegraphics[width=0.24\textwidth]{BCN_CAT_04}}
% \end{center}
% \caption{Example of pages from the marriage registers from the L'Esposalles dataset: (a)-(b) indices, (c)-(d) register pages.}
% \label{fig:datasets:lesposalles}
% \end{figure}

% \section{L'Esposalles dataset}
% \label{sec:datasets:lesposalles}
% This dataset is a collection of pages compiled from marriage licence books conserved at the archives of Barcelona cathedral~\cite{Romero2013}\footnote{\url{http://dag.cvc.uab.es/the-esposalles-database}}. The original marriage register is composed of 291 books/volumes with information of 600,000 marriages celebrated in 250 parishes in between 1451 and 1905. The dataset has three partitions: (1) the indices, (2) the marriage record and (3) the segmented lines. At present the indices part of this dataset contains only the indices of two volumes and the marriage record part is taken from a single volume. Some examples of indices and register pages are visible in Figure~\ref{fig:datasets:lesposalles}.