\chapter{Feature extraction}
\chaptermark{Feature extraction}
\label{app:feature_extraction}
\graphicspath{{./chapters/Appendix/figs/}}

In this appendix we recall the principle of one of the most famous feature extraction approach used for stroke-based documents: connected-component labelling.

%Through out this thesis work we have used several datasets, sometime they consist of floorplans with different variation, sometime isolated graphical objects or historical handwritten documents. Some of the datasets are generated by us to perform some specific experimentations. In this chapter we give a description on all of them. And also when they are created by us we explain a brief methodology, motivation for the creation. The rest of this chapter is divided into nine sections, each of which is dedicated for each of the datasets.

% Through out this thesis work we have used several pre-processing methods to extract image content.
% The typical pre-processing task are noise removal, segmentation, enhancement, perspective correction, page curl removal, skew correction (text) and skeletonization.
% In this appendix we detail some of the noise removal and segmentation methods which are related to comic book image analysis.

% \modif{TODO: add???

%   Feature extraction
%   \begin{itemize}
%     \item Pixel-based (edge, Harris corner, blobs detections)
%     \item Shape-based (thresholding, region growing, connected-component extraction, template matching, Hough transform) 
%     \item Flexible (deformable shapes, active contours)
%   \end{itemize}

%   Feature description (to delete?)
%   \begin{itemize}
%     \item Shape-based (compactness, curvature scale space, freeman coding, Fourier transform, invariant moments, texture)
%   \end{itemize}

%   Other
%   Bayesian classifier
  
% }

\section{Connected-component labelling} % (fold)
\label{sec:ap:connected_component_labelling}
Connected-component (blob) labelling scans all pixels from an image and groups them into components based on their connectivity~\cite{Szeliski2010Computer}.
All pixels in a so called ``connected-component'' share similar intensity values and are in some way connected with each other (part of the same component).
Connected component labelling was original designed for binary and grey-level images with different measures of connectivity, but it can also operate on colour image~\cite{dillencourt1992general}.
Blob extraction is generally performed on a binary image from a thresholding step (\ch{app:pre-processing}).
Then, blobs can be described, filtered and tracked for many applications.
It is a two pass algorithm that process rows and then columns.
The first pass assigns temporary labels and record equivalences whereas the second pass replaces each temporary label by the smallest label of its equivalence class that gives an already existing or new label to each pixel according to their 4 or 8 neighbourhood connectivity.

Connected-component labelling can also be useful to retrieve the topology of the image content~\cite{suzuki1985topological}.
See outermost contour extraction for panel detection in Section~\ref{sec:in:panel_extraction}.


% section corner (end)




% \section{L'Esposalles dataset}
% \label{sec:datasets:lesposalles}
% This dataset is a collection of pages compiled from marriage licence books conserved at the archives of Barcelona cathedral~\cite{Romero2013}\footnote{\url{http://dag.cvc.uab.es/the-esposalles-database}}. The original marriage register is composed of 291 books/volumes with information of 600,000 marriages celebrated in 250 parishes in between 1451 and 1905. The dataset has three partitions: (1) the indices, (2) the marriage record and (3) the segmented lines. At present the indices part of this dataset contains only the indices of two volumes and the marriage record part is taken from a single volume. Some examples of indices and register pages are visible in Figure~\ref{fig:datasets:lesposalles}.